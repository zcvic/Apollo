module_config {
  module_library : "/apollo/bazel-bin/modules/perception/submodules/libperception_submodule_camera.so"
  components {
    class_name : "CameraDetectionSubmodule"
    config {
      name: "CameraObstacleSubmodule"
      config_file_path: "/apollo/modules/perception/conf/camera/obstacle_detection/camera_detection_submodule.conf"
      flag_file_path: "/apollo/modules/perception/conf/perception_common.flag"
    }
  }
}

module_config {
  module_library : "/apollo/bazel-bin/modules/perception/submodules/libperception_submodule_lidar.so"

  components {
    class_name : "LidarSegmentationSubmodule"
    config {
      name: "Velodyne128Segmentation"
      config_file_path: "/apollo/modules/perception/conf/lidar/velodyne128_segmentation_conf_lgsvl.pb.txt"
      flag_file_path: "/apollo/modules/perception/conf/perception_common.flag"
      readers {
        channel: "/apollo/sensor/lidar128/compensator/PointCloud2"
      }
    }
  }

  components {
    class_name: "RadarDetectionSubmodule"
    config {
      name: "FrontRadarDetection"
      config_file_path: "/apollo/modules/perception/conf/radar/front_radar_submodule.conf"
      flag_file_path: "/apollo/modules/perception/conf/perception_common.flag"
      readers {
        channel: "/apollo/sensor/radar/front"
      }
    }
  }

  components {
    class_name: "RadarDetectionSubmodule"
    config {
      name: "RearRadarDetection"
      config_file_path: "/apollo/modules/perception/conf/radar/rear_radar_submodule.conf"
      flag_file_path: "/apollo/modules/perception/conf/perception_common.flag"
      readers {
        channel: "/apollo/sensor/radar/rear"
      }
    }
  }

  components {
    class_name : "LidarTrackingSubmodule"
    config {
      name: "LidarTrackingSubmodule"
      config_file_path: "/apollo/modules/perception/conf/lidar/recognition_conf.pb.txt"
      readers {
        channel: "/perception/inner/SegmentationObjects"
      }
    }
  }

  components {
    class_name: "FusionSubmodule"
    config {
      name: "SensorFusion"
      config_file_path: "/apollo/modules/perception/conf/fusion/fusion_submodule.conf"
      readers {
        channel: "/perception/inner/PrefusedObjects"
      }
    }
  }
}

module_config {
  module_library : "/apollo/bazel-bin/modules/v2x/fusion/apps/libv2x_fusion_component.so"

  components {
    class_name : "V2XFusionComponent"
    config {
      name : "v2x_fusion"
      flag_file_path : "/apollo/modules/v2x/conf/v2x_fusion_tracker.conf"
      readers: [
        {
          channel: "/perception/vehicle/obstacles"
        }
      ]
    }
  }
}